<ng-container *transloco="let t; prefix: 'videosList'">
  @if(videos.length === 0){
  <div class="h-full flex justify-center items-center">
    <div class="flex flex-col items-center md:w-1/3 lg:w-1/2">
      <i class="pi pi-video text-2xl! mb-4"></i>
      <h1 class="text-2xl mb-2 text-center">{{ t('noVideos') }}</h1>
      <p class="text-neutral-500 dark:text-neutral-300 mb-12 text-center">
        {{ t('noVideosDescription') }}
      </p>
      <p-fileupload
        mode="basic"
        chooseLabel="{{ t('chooseFiles') }}"
        chooseIcon="pi pi-upload"
        name="demo[]"
        [multiple]="true"
        [auto]="true"
        accept="video/*"
        maxFileSize="1000000"
        (onUpload)="onUpload($event)"
      />
    </div>
  </div>
  } @else {
  <div class="grid grid-cols-1 gap-4">
    @for (item of videos; track videoTrackBy($index, item)) {
    <div>{{item.name}}</div>
    }
  </div>
  <div class="flex justify-end mt-4">
    <button
      pButton
      pRipple
      [label]="t('transcribe')"
      [disabled]="videos.length === 0"
      (onClick)="transcribe()"
    ></button>
  </div>
  @if(loading){
  <div
    class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center"
  >
    <p-progressSpinner />
  </div>
  }
  @if(transcriptions.length > 0){
  <div class="mt-4">
    <h2 class="text-xl mb-2">{{ t('transcriptions') }}</h2>
    @for (item of transcriptions; track item.video) {
    <div class="mb-4">
      <h3 class="font-bold">{{ item.video }}</h3>
      <p>{{ item.text }}</p>
    </div>
    }
  </div>
  }
  }
</ng-container>
